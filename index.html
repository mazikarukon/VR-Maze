<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>VR Maze02</title>
        <meta name="viewport" content="initial-scale=1.0">
        <script src="script/aframe.min.js"></script>
    </head>
    <body>
    <a-scene>
            <a-box class="collidable" position="0 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 1" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 2" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 3" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 4" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 5" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 6" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 7" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="0 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="1 0 2" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="1 0 5" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="1 0 6" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="1 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="2 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="2 0 2" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="2 0 3" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="2 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="3 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="3 0 4" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="3 0 5" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="3 0 7" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="3 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="4 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="4 0 1" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="4 0 2" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="4 0 4" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="4 0 5" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="5 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="5 0 2" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="5 0 5" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="5 0 7" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="5 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="6 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="6 0 2" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="6 0 3" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="6 0 5" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="6 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="7 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="7 0 7" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="7 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 0" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 1" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 2" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 3" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 4" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 5" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 6" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 7" width="1" height="2" depth="1" color="#63374B"></a-box>
            <a-box class="collidable" position="8 0 8" width="1" height="2" depth="1" color="#63374B"></a-box>
        <a-plane rotation="-90 0 0" width="100" height="100" color="#7BC8A4" static></a-plane>
        <a-sky color="#ECECEC"></a-sky>
        <!--
        <a-entity id="camera" camera look-controls raycaster="objects: .collidable; far: 0.5;" collider-check rotation="0 0 0" position="0 0 0"></a-entity>
        -->
    </a-scene>
        <script>
            var scene = document.querySelector('a-scene');
            var camera = document.createElement('a-camera');
            camera.setAttribute('position', '4 0.3 9');
            camera.setAttribute('near', '0.01');
            var t = 0;
            var speed = 0.1;
            var z = 0;
            scene.appendChild(camera);
            function render() {
                t += 0.01;
                requestAnimationFrame(render);
                var position = camera.getAttribute('position');
                var rotation = camera.getAttribute('rotation');
                if(z < -1.5){
                   
                    position.x += -Math.cos((rotation.y - 90) * Math.PI / 180) * speed;
                    position.z += Math.sin((rotation.y - 90) * Math.PI / 180) * speed;
                    camera.setAttribute('position', position);
                }
                
                
            }
            render();
             window.addEventListener('devicemotion', function(event) {
                z = event.acceleration.z; // Z軸の加速度
            });
        </script>

            
</body>
</html>
