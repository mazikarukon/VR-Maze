<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>VR Maze02</title>
        <meta name="description" content="A-Frame Sample VR-Maze<">
        
        <meta name="viewport" content="initial-scale=1.0">
        
        <script src="./script/aframe.min.js"></script>
    </head>
    <body>
        <p>前後方向の加速度:<br><span id="accelerationZ"></span>m/s<sup>2</sup>
        
        <script>
window.addEventListener('devicemotion', function(event){ //デバイスが動いたときに発火
    document.getElementById('accelerationZ').innerHTML = event.acceleration.z; // event.acceleration.zで前後方向の加速度取得

        });
            
            
            var t = 0;
            var speed = 0.05;
            function render() {
                t += 0.01;
                requestAnimationFrame(render);
                var camera = document.getElementById('camera');

                if (document.getElementById('accelerationZ').innerHTM < -1.5) {
                    var position = camera.getAttribute('position');
                    var rotation = camera.getAttribute('rotation');

                    position.x += -Math.cos((rotation.y - 90) * Math.PI / 180) * speed;
                    position.z += Math.sin((rotation.y - 90) * Math.PI / 180) * speed;
                    camera.setAttribute('position', position);
                }   

            }
render();
            
        </script>

        
        
    <a-scene>
        <a-entity position="-4 1 -6">
            <a-box class="collidable" position="0 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 1" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 2" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 3" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 4" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 5" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 6" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 7" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="0 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="1 0 2" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="1 0 5" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="1 0 6" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="1 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="2 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="2 0 2" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="2 0 3" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="2 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="3 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="3 0 4" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="3 0 5" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="3 0 7" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="3 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="4 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="4 0 1" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="4 0 2" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="4 0 4" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="4 0 5" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="5 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="5 0 2" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="5 0 5" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="5 0 7" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="5 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="6 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="6 0 2" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="6 0 3" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="6 0 5" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="6 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="7 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="7 0 7" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="7 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 0" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 1" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 2" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 3" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 4" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 5" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 6" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 7" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
            <a-box class="collidable" position="8 0 8" width="1" height="2" depth="1" color="#4CC3D9"></a-box>
      <a-plane  rotation="-90 0 0" width="100" height="100" color="#7BC8A4" static></a-plane>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
            
</body>
</html>
